
&НаКлиенте
Процедура Команда1(Команда)
	ЗаполнитьДеревоФич();
КонецПроцедуры

&НаКлиенте
Процедура ЗаполнитьДеревоФич()
	ПодготовитьФичи();
	
	НачатьПоискФайлов(Новый ОписаниеОповещения("ЗаполнитьДеревоФичЗавершение", ЭтотОбъект), "C:\Users\Alehin Sasha\Desktop\п1", "*.feature", Истина);
КонецПроцедуры

&НаКлиенте
Процедура ЗаполнитьДеревоФичЗавершение(НайденныеФайлы, ДополнительныеПараметры) Экспорт
	Если ЗначениеЗаполнено(НайденныеФайлы) Тогда
		
		Для Каждого НайденныйФайл Из НайденныеФайлы Цикл
			ДобавитьОписаниеФичи(Параметры.Фичи, НайденныйФайл);
			ОпределитьРодительскиеКаталогиФичи(Параметры.Фичи, НайденныйФайл);
		КонецЦикла;
		
		
		
		//ЗаполнитьДеревоФичЗавершениеНаСервере(НайденныеФайлы, ДополнительныеПараметры);
	КонецЕсли;	
КонецПроцедуры

&НаКлиенте
Процедура ПодготовитьФичи()
	Параметры.Фичи = Новый Структура;
КонецПроцедуры

//&НаСервере
//Процедура ЗаполнитьДеревоФичЗавершениеНаСервере(НайденныеФайлы, ДополнительныеПараметры)
//	ОбъектНаСервере = РеквизитФормыВЗначение("Объект");
//	
//	ПодговтоитьДеревоФич(ОбъектНаСервере);
//	
//	ОпределитьРодительскиеКаталоги(ОбъектНаСервере, НайденныеФайлы, ДополнительныеПараметры);

//	ЗначениеВРеквизитФормы(ОбъектНаСервере, "Объект");
//КонецПроцедуры

//&НаСервере
//Процедура ОпределитьРодительскиеКаталоги(ОбъектНаСервере, НайденныеФайлы, ДополнительныеПараметры)
//	Для Каждого НайденныйФайл Из НайденныеФайлы Цикл
//	
//		
//	
//	КонецЦикла;
//КонецПроцедуры

// <Описание процедуры>
//
// Параметры:
//  <Параметр1>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//  <Параметр2>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//
&НаКлиенте
Процедура ДобавитьОписаниеФичи(Фичи, НайденныйФайл)
	Фичи.Вставить("Имя", НайденныйФайл.Имя);
	
	Фичи.Вставить("Родитель", Неопределено);
КонецПроцедуры

&НаСервере
Процедура ОпределитьРодительскиеКаталогиФичи(Фичи, НайденныйФайл)

КонецПроцедуры

//&НаСервере
//Процедура ПодговтоитьДеревоФич(ОбъектНаСервере)
//	УдалитьВсеСтрокиДереваФич(ОбъектНаСервере);
//	
//	СоздатьКолонкиДереваФич(ОбъектНаСервере);
//КонецПроцедуры

//&НаСервере
//Процедура УдалитьВсеСтрокиДереваФич(ОбъектНаСервере)
//	ОбъектНаСервере.Строки.Очистить();
//КонецПроцедуры

//&НаСервере
//Процедура СоздатьКолонкиДереваФич(ОбъектНаСервере)
//	ОбъектНаСервере.Колонки.Создать("Имя1");
//КонецПроцедуры
